<app-top-navbar></app-top-navbar>
<div class="container my-5 py-5">
  <div class="row">
    <div *ngIf="userNotLoggedIn; then UserNotLoggedInAlert"></div>
    <ng-template #UserNotLoggedInAlert>
      <div class="alert alert-info" role="alert">
        No user is logged in. Please login first!
      </div>
    </ng-template>
    <h1>Profile</h1>
  </div>
  <div class="row">
    <div class="col-xs-6 col-md-4">
      <input [(ngModel)]="user.username"
             [disabled] = "userNotLoggedIn"
             placeholder="username"
             class="form-control my-2"/>
      <input [(ngModel)]="user.firstName"
             [disabled] = "userNotLoggedIn"
             placeholder="first name"
             class="form-control my-2"/>
      <input [(ngModel)]="user.lastName"
             [disabled] = "userNotLoggedIn"
             placeholder="lastName"
             class="form-control my-2"/>
      <input [(ngModel)]="user.email"
             [disabled] = "userNotLoggedIn"
             placeholder="email"
             class="form-control my-2"/>
      <input [(ngModel)]="user.phoneNumber"
             [disabled] = "userNotLoggedIn"
             placeholder="333-222-3232"
             class="form-control my-2"/>
      <input [(ngModel)]="user.address"
             [disabled] = "userNotLoggedIn"
             placeholder="X Street,Boston,MA"
             class="form-control my-2"/>
      <button (click)="update(user)"
              [disabled] = "userNotLoggedIn"
              class="btn btn-primary btn-block my-2">
        Update
      </button>

      <div class="d-flex justify-content-between">
        <button routerLink="/home" class="btn btn-outline-primary">Home</button>
        <div *ngIf="userCode === 3; then AdminPageLink"></div>
        <ng-template #AdminPageLink>
          <button routerLink="/admin" class="btn btn-outline-primary">Admin</button>
        </ng-template>
        <button [disabled] = "userNotLoggedIn" (click)="logout()" class="btn btn-outline-danger">Logout</button>
      </div>
    </div>
    <div class="col-xs-6 col-md-8">
      <div class="col">
        <div *ngIf="userCode === 1 || userCode === 2 ; then SongsAndPlaylistsPageLink"></div>
        <ng-template #SongsAndPlaylistsPageLink>
          <app-rated-songs></app-rated-songs>
          <app-playlists-page></app-playlists-page>
        </ng-template>
      </div>
    </div>
  </div>
</div>
<app-bottom-navbar></app-bottom-navbar>
